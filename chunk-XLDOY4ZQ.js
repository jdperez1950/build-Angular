import{a as be,c as $e,d as Ke,f as rt,g as nt}from"./chunk-ATEGFFIP.js";import{a as Qe,b as et,c as tt,h as it,i as U,j as Z,l as S,n as te,o as O,q as ie,r as Y,s as at,t as ot}from"./chunk-VHDEPB5I.js";import{$b as Je,Aa as Fe,Ab as Ve,Da as Re,Db as $,Eb as H,Ga as Pe,Gb as Be,Hb as je,La as Te,Lb as qe,Na as we,Q as Se,Ub as ze,V as Ee,Vb as Xe,Wb as He,Xb as Ue,Yb as Ze,Zb as Ye,_b as We,a as ve,ba as j,c as _e,ga as T,j as Ce,l as B,ma as w,na as F,nb as q,ob as z,pa as ye,pb as De,qb as Oe,ra as s,rb as Ne,sb as Ae,tb as Ge,ua as Ie,ub as ke,va as Me,wb as X,xb as Le,z as xe}from"./chunk-5BYHJAEJ.js";import{$b as Q,Cb as f,Db as W,Dc as ee,Fb as J,Gb as K,Hb as n,Ib as t,Ja as le,Jb as v,Nb as me,Qb as E,Sb as g,Vb as y,Ya as k,Zc as L,_c as fe,ab as a,ac as o,ba as A,bb as _,bc as x,ca as ae,cc as h,dd as ge,fc as se,ga as G,gc as de,gd as V,ha as D,hc as pe,id as he,j as re,jc as M,la as I,ma as oe,oc as ce,pc as ue,ua as R,v as ne,va as P,vb as c,xb as u}from"./chunk-3TB6HGH5.js";var mt=(()=>{let l=class l{constructor(m){this.data=m,this.dialogRef=D(q)}onNoClick(){this.dialogRef.close(!1)}};l.\u0275fac=function(d){return new(d||l)(_(z))},l.\u0275cmp=I({type:l,selectors:[["app-terms-and-conditions-modal"]],standalone:!0,features:[M],decls:18,vars:3,consts:[[1,"text"],["mat-dialog-title",""],["target","_blank",3,"href"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(d,i){d&1&&(n(0,"div",0)(1,"h2",1),o(2,"Aceptaci\xF3n de tratamiento de datos personales y T\xE9rminos y condiciones de la convocatoria"),t(),n(3,"mat-dialog-content")(4,"p"),o(5," En el marco de la Ley 1581 de 2012, Colombia protege los datos personales, estableciendo principios como la transparencia y el derecho de las personas a controlar la informaci\xF3n y su uso. Esta Ley regula c\xF3mo se manejan y protegen los datos por parte de entidades p\xFAblicas y privadas, asegurando la privacidad de los ciudadanos. "),t(),n(6,"p"),o(7," Aceptando los t\xE9rminos y condiciones confirma que ley\xF3 y esta de acuerdo con lo descrito en el "),n(8,"a",2),o(9,"documento de Te\u0301rminos de la convocatoria"),t(),o(10," para el registro al Banco provedores "),t(),n(11,"p"),o(12," Para continuar con el proceso, \xBFaceptas nuestra pol\xEDtica de tratamiento de datos personales? "),t()(),n(13,"mat-dialog-actions")(14,"button",3),o(15,"No"),t(),n(16,"button",4),o(17,"Si"),t()()()),d&2&&(a(8),u("href",i.data.terms,k),a(6),u("mat-dialog-close",!1),a(2),u("mat-dialog-close",!0))},dependencies:[Ne,Ae,Ge,Oe,w,T],styles:[".text[_ngcontent-%COMP%]{margin:30px}"]});let e=l;return e})();var st=(()=>{let l=class l{};l.\u0275fac=function(d){return new(d||l)},l.\u0275mod=oe({type:l}),l.\u0275inj=ae({imports:[Se]});let e=l;return e})();var dt=(()=>{let l=class l{constructor(m){this.httpClient=m,this.basePath=F.baseUrl,this.defaultHeaders=new ve}crearProveedor(m,d="body",i=!1){if(m==null)throw new Error("Required parameter body was null or undefined when calling crearProveedor.");let p=this.defaultHeaders;return p=p.set("Accept","application/json"),this.httpClient.post(`${this.basePath}/api/proveedores/convocatoria/${m.convocatoria}`,m,{headers:p,observe:d,reportProgress:i})}getProveedor(m){return this.httpClient.get(`${this.basePath}/api/proveedores?nit=${m}&page=0&size=10`)}};l.\u0275fac=function(d){return new(d||l)(G(_e))},l.\u0275prov=A({token:l,factory:l.\u0275fac,providedIn:"root"});let e=l;return e})();var pt=(()=>{let l=class l{constructor(m){this._platform_id=m,this.isBrowser=!0,this._urlRecaptcha="https://www.google.com/recaptcha/api/siteverify",he(m)&&(this.isBrowser=!0)}getToken(m){let d="false";if(this.isBrowser){let i=new XMLHttpRequest;i.open("POST",this._urlRecaptcha,!1),i.send(),d=JSON.parse(i.responseText)[m]}return d}executeRecaptchaVisible(m){console.log(m)}};l.\u0275fac=function(d){return new(d||l)(G(le))},l.\u0275prov=A({token:l,factory:l.\u0275fac,providedIn:"root"});let e=l;return e})();function Tt(e,l){e&1&&o(0,"Informaci\xF3n B\xE1sica")}function wt(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",""+r.value),a(),x(r.label)}}function Dt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[0],"idTipoPersona")," ")}}function Ot(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[0],"razonSocial")," ")}}function Nt(e,l){if(e&1&&(n(0,"mat-form-field",17)(1,"mat-label"),o(2," Raz\xF3n Social "),t(),v(3,"input",41),c(4,Ot,2,1,"mat-error"),t()),e&2){let r=g();a(4),f(r.ifInvalidField(r.formGroups[0],"razonSocial")?4:-1)}}function At(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[0],"primerNombre")," ")}}function Gt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[0],"segundoNombre")," ")}}function kt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[0],"primerApellido")," ")}}function Lt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[0],"segundoApellido")," ")}}function Vt(e,l){if(e&1&&(n(0,"mat-form-field",17)(1,"mat-label"),o(2," Primer Nombre "),t(),v(3,"input",42),c(4,At,2,1,"mat-error"),t(),n(5,"mat-form-field",17)(6,"mat-label"),o(7," Segundo Nombre "),t(),v(8,"input",43),c(9,Gt,2,1,"mat-error"),t(),n(10,"mat-form-field",17)(11,"mat-label"),o(12," Primer Apellido"),t(),v(13,"input",44),c(14,kt,2,1,"mat-error"),t(),n(15,"mat-form-field",17)(16,"mat-label"),o(17," Segundo Apellido"),t(),v(18,"input",45),c(19,Lt,2,1,"mat-error"),t()),e&2){let r,m,d,i,p=g();a(3),y("placeholder",((r=p.formGroups[0].get("idTipoPersona"))==null?null:r.value)==="2"?"Primer Nombre Representante Legal":"Primer Nombre"),a(),f(p.ifInvalidField(p.formGroups[0],"primerNombre")?4:-1),a(4),y("placeholder",((m=p.formGroups[0].get("idTipoPersona"))==null?null:m.value)==="2"?"Segundo Nombre Representante Legal":"Segundo Nombre"),a(),f(p.ifInvalidField(p.formGroups[0],"segundoNombre")?9:-1),a(4),y("placeholder",((d=p.formGroups[0].get("idTipoPersona"))==null?null:d.value)==="2"?"Primer Apellido Representante Legal":"Primer Apellido"),a(),f(p.ifInvalidField(p.formGroups[0],"primerApellido")?14:-1),a(4),y("placeholder",((i=p.formGroups[0].get("idTipoPersona"))==null?null:i.value)==="2"?"Segundo Apellido Representante Legal":"Segundo Apellido"),a(),f(p.ifInvalidField(p.formGroups[0],"segundoApellido")?19:-1)}}function Bt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[0],"nit")," ")}}function jt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[0],"confirmDocument")," ")}}function qt(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",""+r),a(),x(r)}}function zt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[0],"digitoVerificacionNit")," ")}}function Xt(e,l){if(e&1&&(n(0,"mat-form-field",17)(1,"mat-label"),o(2,"D\xEDgito de Verificaci\xF3n"),t(),n(3,"mat-select",46),J(4,qt,2,2,"mat-option",19,W),t(),c(6,zt,2,1,"mat-error"),t()),e&2){let r=g();a(4),K(r.optionsDV),a(2),f(r.ifInvalidField(r.formGroups[0],"digitoVerificacionNit")?6:-1)}}function $t(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",r.id),a(),x(r.nombre)}}function Ht(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[0],"idDepartamento")," ")}}function Ut(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",r.id),a(),x(r.nombre)}}function Zt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[0],"idMunicipio")," ")}}function Yt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[0],"direccion")," ")}}function Wt(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",r.value),a(),x(r.label)}}function Jt(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[0],"tipoSupervisionContable")," ")}}function Kt(e,l){if(e&1&&(n(0,"mat-form-field",17)(1,"mat-label"),o(2,"Certificador financiero de la empresa:"),t(),n(3,"mat-select",47),c(4,Wt,2,2,"mat-option",23),t(),c(5,Jt,2,1,"mat-error"),t()),e&2){let r=g();a(4),u("ngForOf",r.revisorFiscalOptions),a(),f(r.ifInvalidField(r.formGroups[0],"tipoSupervisionContable")?5:-1)}}function Qt(e,l){e&1&&o(0,"Informaci\xF3n Adicional")}function ei(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[1],"celular")," ")}}function ti(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[1],"correoElectronico")," ")}}function ii(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[1],"confirmarCorreoElectronico")," ")}}function ri(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[1],"nombreRepresentanteLegal")," ")}}function ni(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[1],"cedulaRepresentanteLegal")," ")}}function ai(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g(2);a(),h(" ",r.getErrorMessageField(r.formGroups[1],"fechaConstitucion")," ")}}function oi(e,l){if(e&1&&(n(0,"mat-form-field",17)(1,"mat-label"),o(2,"Nombre Representante Legal"),t(),v(3,"input",48),c(4,ri,2,1,"mat-error"),t(),n(5,"mat-form-field",17)(6,"mat-label"),o(7,"C\xE9dula Representante Legal"),t(),v(8,"input",49),c(9,ni,2,1,"mat-error"),t(),n(10,"mat-form-field",17)(11,"mat-label"),o(12,"Fecha de Constituci\xF3n"),t(),v(13,"input",50)(14,"mat-datepicker-toggle",32)(15,"mat-datepicker",null,1),c(17,ai,2,1,"mat-error"),t()),e&2){let r=Q(16),m=g();a(4),f(m.ifInvalidField(m.formGroups[1],"nombreRepresentanteLegal")?4:-1),a(5),f(m.ifInvalidField(m.formGroups[1],"cedulaRepresentanteLegal")?9:-1),a(4),u("matDatepicker",r),a(),u("for",r),a(3),f(m.ifInvalidField(m.formGroups[1],"fechaConstitucion")?17:-1)}}function li(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[1],"fechaExpedicionDI")," ")}}function mi(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",r.value),a(),x(r.label)}}function si(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[1],"tieneFacturacionElectronica")," ")}}function di(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",r.id),a(),x(r.nombre)}}function pi(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[1],"tiposProveedor")," ")}}function ci(e,l){if(e&1&&(n(0,"mat-option",19),o(1),t()),e&2){let r=l.$implicit;u("value",r.value),a(),x(r.label)}}function ui(e,l){if(e&1&&(n(0,"mat-error"),o(1),t()),e&2){let r=g();a(),h(" ",r.getErrorMessageField(r.formGroups[1],"expuestoPublicamente")," ")}}function fi(e,l){e&1&&(n(0,"mat-error"),o(1," Captcha es requerido "),t())}var ct=(()=>{let l=class l{constructor(m,d,i,p,C,b,ft,gt,ht,vt,_t,Ct,bt){this.fb=m,this.proveedorService=d,this.parametricasService=i,this.api=p,this.router=C,this._formValidationErrorsService=b,this.messagesService=ft,this.cdr=gt,this.spinner=ht,this.recaptcha=vt,this.dialogRef=_t,this.data=Ct,this.route=bt,this.isLinear=!0,this.tipoPersona="1",this.documentStr="C\xE9dula de Ciudadan\xEDa",this.formGroups=[],this.stepperOrientation=new re,this.departamentos=[],this.tipoInsumos=[],this.municipios=[],this.captchaResolved=!1,this.tipoPersonaOptions=[{label:"Natural",value:1},{label:"Jur\xEDdica",value:2}],this.revisorFiscalOptions=[{label:"Contador",value:1},{label:"Revisor Fiscal",value:2}],this.optionsDV=["1","2","3","4","5","6","7","8","9","0"],this.keyV2=F.recaptchaKeyV2,this.yesNoOptions=[{label:"Si",value:!0},{label:"No",value:!1}],this.dialog=D(De),this.closedCampaign=!0,this.versionTyC="1.0",this.termsUrl="./terminos_de_la_convocatoria.pdf",this.startDate=new Date(new Date().setFullYear(new Date().getFullYear())),this.breakpointObserver=D(xe),this.formSchemaPersonaNatural=[[{field:"idTipoPersona",validators:[s.required]},{field:"nit",validators:[s.required,s.minLength(4),s.maxLength(10),S()]},{field:"idDepartamento",validators:[s.required]},{field:"idMunicipio",validators:[s.required]},{field:"direccion",validators:[s.required,s.minLength(6),s.maxLength(250)]},{field:"primerNombre",validators:[s.required,s.minLength(3),s.maxLength(20),s.pattern("^[a-zA-Z\xF1\xD1]+$")]},{field:"segundoNombre",validators:[s.minLength(3),s.maxLength(20),s.pattern("^[a-zA-Z\xF1\xD1]+$")]},{field:"primerApellido",validators:[s.required,s.minLength(3),s.maxLength(20),s.pattern("^[a-zA-Z\xF1\xD1]+$")]},{field:"segundoApellido",validators:[s.minLength(3),s.maxLength(20),s.pattern("^[a-zA-Z\xF1\xD1]+$")]},{field:"confirmDocument",validators:[s.required,S()]}],[{field:"celular",validators:[s.required,S(),s.minLength(5),s.maxLength(13)]},{field:"correoElectronico",validators:[s.required,O()]},{field:"confirmarCorreoElectronico",validators:[s.required,O()]},{field:"fechaExpedicionDI",validators:[s.required]},{field:"tieneFacturacionElectronica",validators:[s.required]},{field:"tiposProveedor",validators:[s.required]},{field:"expuestoPublicamente",validators:[s.required]}]],this.formSchemaPersonaJuridica=[[{field:"idTipoPersona",validators:[s.required]},{field:"nit",validators:[s.required,s.minLength(4),s.maxLength(10),S()]},{field:"digitoVerificacionNit",validators:[s.required,s.minLength(1),s.maxLength(1),S()]},{field:"razonSocial",validators:[s.required,s.minLength(3),s.maxLength(50)]},{field:"idDepartamento",validators:[s.required]},{field:"idMunicipio",validators:[s.required]},{field:"direccion",validators:[s.required,s.minLength(6),s.maxLength(250)]},{field:"tipoSupervisionContable",validators:[s.required]},{field:"confirmDocument",validators:[s.required,S()]}],[{field:"celular",validators:[s.required,S(),s.minLength(5),s.maxLength(13)]},{field:"correoElectronico",validators:[s.required,O()]},{field:"confirmarCorreoElectronico",validators:[s.required,O()]},{field:"nombreRepresentanteLegal",validators:[s.required,s.minLength(3),s.maxLength(80),s.pattern("^[a-zA-Z\xF1\xD1\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\\s]+$")]},{field:"fechaConstitucion",validators:[s.required,this.validateDate(6)]},{field:"tieneFacturacionElectronica",validators:[s.required]},{field:"tiposProveedor",validators:[s.required]},{field:"cedulaRepresentanteLegal",validators:[s.required,s.minLength(4),s.maxLength(10),S()]},{field:"expuestoPublicamente",validators:[s.required]}]],this.stepperOrientation=this.breakpointObserver.observe("(min-width: 800px)").pipe(ne(({matches:xt})=>xt?"horizontal":"vertical"))}ngOnInit(){this.getDataCampaing(),this.initFormGroups()}ngAfterViewInit(){}initFormGroups(){let m=this.fb.group({idTipoPersona:[""],nit:[""],digitoVerificacionNit:[""],razonSocial:[""],idDepartamento:[""],idMunicipio:[""],direccion:[""],tipoSupervisionContable:[""],primerNombre:[""],segundoNombre:[""],primerApellido:[""],segundoApellido:[""],confirmDocument:[""]},{validators:te("nit","confirmDocument")}),d=this.fb.group({celular:[""],correoElectronico:[""],confirmarCorreoElectronico:[""],nombreRepresentanteLegal:[""],fechaConstitucion:[""],fechaExpedicionDI:[""],tieneFacturacionElectronica:[""],tiposProveedor:[""],cedulaRepresentanteLegal:[""],expuestoPublicamente:[""],tyc:[!0]},{validators:ie("correoElectronico","confirmarCorreoElectronico")});this.formGroups.push(m),this.formGroups.push(d),this.onTipoPersonaChange("1")}ifInvalidField(m,d){return this._formValidationErrorsService.isInvalidField(m,d)}getErrorMessageField(m,d){return this._formValidationErrorsService.errorMessageField(m,d)}validateDate(m){return d=>{let i=null;if(d.value!=""){let p=new Date,C=new Date(d.value);i=(p.getFullYear()-C.getFullYear())*12+(p.getMonth()-C.getMonth())<m?{fechaConstitucion:!0}:null}return i}}captchaValidator(m){return d=>m?null:{captchaRequired:!0}}onDepartamentoChange(m){let d=this.departamentos.find(i=>i.id==m);this.formGroups[0].get("idMunicipio")?.setValue(""),this.municipios=this.dataCampaing?.municipios.filter(i=>i.departamento.id==d?.id)??[]}onTipoPersonaChange(m){this.tipoPersona=m,this.documentStr=m==="1"?"C\xE9dula de Ciudadan\xEDa":"NIT",this.formGroups.forEach(d=>{Object.keys(d.controls).forEach(i=>{d.get(i)?.clearValidators()})});for(let d=0;d<this.formGroups.length;d++)this.formGroups[d].clearValidators(),this.tipoPersona=="1"?this.formSchemaPersonaNatural[d].forEach(i=>{this.formGroups[d].get(i.field)?.addValidators(i.validators)}):this.formSchemaPersonaJuridica[d].forEach(i=>{this.formGroups[d].get(i.field)?.addValidators(i.validators)}),d<2&&this.formGroups[d].addValidators([te("nit","confirmDocument"),ie("correoElectronico","confirmarCorreoElectronico")]),this.formGroups.forEach(i=>{i.updateValueAndValidity(),Object.keys(i.controls).forEach(p=>{i.get(p)?.updateValueAndValidity()})})}onSubmit(){this.formGroups.every(m=>m.valid)?this.dialog.open(mt,{data:{terms:this.dataCampaing?.urlTerminos}}).afterClosed().subscribe(d=>{if(d){this.spinner.showSpinner();let i={};this.formGroups.forEach(p=>{Object.keys(p.controls).forEach(C=>{let b=p.get(C);b&&b.value&&(i[C]=b.value)})}),i.versionTyC=this.versionTyC,this.tipoPersona=="1"&&(i.razonSocial=`${i.primerNombre}${i.segundoNombre?" "+i.segundoNombre:""} ${i.primerApellido}${i.segundoApellido?" "+i.segundoApellido:""}`),i.convocatoria=this.dataCampaing?.id,this.proveedorService.crearProveedor(i).subscribe({next:p=>{this.spinner.hideSpinner(),this.messagesService.showTopCenterMessageWithButton("Se ha registrado satisfactoriamente. Verifique el correo enviado a su bandeja de correo, no olvide buscar en la bandeja de Spam en caso de no encontrarlo.","Ok"),this.router.navigateByUrl("/auth")},error:p=>{this.spinner.hideSpinner(),this.messagesService.showErrorMessage(p.error.message)}})}else this.messagesService.showTopCenterMessageWithButton("Debe aceptar los te\u0301rminos y condiciones para poder registrase.","Ok")}):this.formGroups.forEach(m=>m.markAllAsTouched)}onCancel(){this.dialogRef.close()}resetForm(){this.formGroups.forEach(m=>m.reset())}getDataCampaing(){let m=this.route.snapshot.paramMap.get("campaignId");this.api.getData(F.convocatorias+"/"+m).subscribe({next:d=>{this.dataCampaing=d,this.versionTyC=this.dataCampaing.versionTerminos??"";let i=new Map;this.dataCampaing.municipios.forEach(p=>{i.set(p.departamento.id,p.departamento)}),this.departamentos=Array.from(i.values()),this.tipoInsumos=this.dataCampaing.tiposProveedor},error:d=>{console.error("Error al cargar la campa\xF1a:",d)}})}onResolved(m){this.recaptcha.executeRecaptchaVisible(m),this.captchaResolved=!!m,this.formGroups[1].get("captchaControl")?.updateValueAndValidity()}};l.\u0275fac=function(d){return new(d||l)(_(Te),_(dt),_(ze),_(Y),_(B),_(at),_(Xe),_(ee),_(ot),_(pt),_(q,8),_(z,8),_(Ce))},l.\u0275cmp=I({type:l,selectors:[["app-register-supplier"]],standalone:!0,features:[M],decls:152,vars:49,consts:[["picker1",""],["picker",""],[1,"banner-container-register"],["textPosition","left-center",3,"imageSrc","height","mobileHeight"],[2,"text-align","left"],[1,"register-container"],[1,"text-container"],["href","./manual_de_registro_banco_de_proveedores.pdf","target","_blank",1,"terms-button"],[1,"name-campaign","text-center"],["target","_blank",1,"terms-button",3,"href"],[1,"text-center"],[1,"form-container"],[1,"step-label",3,"linear","orientation"],[3,"stepControl"],[3,"ngSubmit","formGroup"],["matStepLabel",""],[1,"form-row"],["appearance","fill",1,"half-width"],["formControlName","idTipoPersona",3,"selectionChange"],[3,"value"],["matInput","","formControlName","nit",3,"placeholder"],["matInput","","formControlName","confirmDocument",3,"placeholder"],["formControlName","idDepartamento",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","idMunicipio"],["matInput","","formControlName","direccion","placeholder","Direcci\xF3n comercial"],[1,"button-row"],["mat-button","","matStepperNext","","type","button"],["matInput","","formControlName","celular","placeholder","Celular"],["matInput","","formControlName","correoElectronico","placeholder","Correo Electr\xF3nico"],["matInput","","formControlName","confirmarCorreoElectronico","placeholder","Correo Electr\xF3nico"],["matInput","","formControlName","fechaExpedicionDI","placeholder","Fecha de Expedici\xF3n documento Identidad",3,"matDatepicker","max"],["matSuffix","",3,"for"],["formControlName","tieneFacturacionElectronica"],["formControlName","tiposProveedor","multiple",""],["formControlName","expuestoPublicamente"],[1,"recaptcha"],[3,"resolved","siteKey"],[4,"ngIf"],["mat-button","","matStepperPrevious","","type","button"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["matInput","","formControlName","razonSocial","placeholder","Raz\xF3n Social"],["matInput","","formControlName","primerNombre",3,"placeholder"],["matInput","","formControlName","segundoNombre",3,"placeholder"],["matInput","","formControlName","primerApellido",3,"placeholder"],["matInput","","formControlName","segundoApellido",3,"placeholder"],["formControlName","digitoVerificacionNit"],["formControlName","tipoSupervisionContable"],["matInput","","formControlName","nombreRepresentanteLegal","placeholder","Nombre Representante Legal"],["matInput","","formControlName","cedulaRepresentanteLegal","placeholder","C\xE9dula Representante Legal"],["matInput","","formControlName","fechaConstitucion","placeholder","Fecha de Constituci\xF3n",3,"matDatepicker"]],template:function(d,i){if(d&1){let p=me();n(0,"div",2)(1,"app-cover-img",3),v(2,"h1",4),t()(),n(3,"div",5)(4,"div",6)(5,"h2"),o(6,"\xA1Bienvenido al Banco de Proveedores para el desarrollo de proyectos productivos PNIS!"),t(),n(7,"span"),o(8,"Si tu negocio se enfoca en proveer productos de ferreter\xEDa, maquinaria, equipos, insumos agropecuarios, material vegetal o semillas, semovientes, esta es una excelente oportunidad para ti."),t(),n(9,"p"),o(10,"Consulta nuestro manual de registro en siguiente enlace "),n(11,"a",7),o(12," Ver Manual de Registro Banco de Proveedores"),t()(),v(13,"br")(14,"br"),n(15,"h2",8),o(16),t(),n(17,"h3"),o(18,"\xBFQuieres ser parte de esta Convocatoria?"),t(),n(19,"h4"),o(20,"Reg\xEDstrate en las siguientes fechas:"),t(),n(21,"h4"),o(22,"Fecha inicio: "),n(23,"strong"),o(24),t()(),n(25,"h4"),o(26,"Fecha Finalizaci\xF3n: "),n(27,"strong"),o(28),t()(),n(29,"h4"),o(30,"Detalles:"),t(),n(31,"span"),o(32),t(),v(33,"br")(34,"br"),n(35,"span"),o(36,"Conoce todos los detalles de la convocatoria, "),n(37,"a",9),o(38,"Ver te\u0301rminos y condiciones."),t()(),v(39,"br")(40,"br"),n(41,"span"),o(42," Una vez finalizado el proceso, recibir\xE1s un correo electr\xF3nico con tu usuario y la confirmaci\xF3n de tu inscripci\xF3n. Con esta informaci\xF3n puedes ingresar a la plataforma e iniciar la carga de tus documentos. "),t(),v(43,"br")(44,"br"),n(45,"h4",10),o(46,"\xA1Esperamos contar con tu participaci\xF3n para fortalecer los proyectos productivos en nuestra comunidad!"),t()()(),n(47,"div",5)(48,"div",11)(49,"h2"),o(50,"Formulario Registro Proveedor"),t(),n(51,"mat-horizontal-stepper",12),ce(52,"async"),n(53,"mat-step",13)(54,"form",14),E("ngSubmit",function(){return R(p),P(i.onSubmit())}),c(55,Tt,1,0,"ng-template",15),n(56,"div",16)(57,"mat-form-field",17)(58,"mat-label"),o(59,"Tipo de Persona"),t(),n(60,"mat-select",18),E("selectionChange",function(b){return R(p),P(i.onTipoPersonaChange(b.value))}),J(61,wt,2,2,"mat-option",19,W),t(),c(63,Dt,2,1,"mat-error"),t(),c(64,Nt,5,1,"mat-form-field",17)(65,Vt,20,8),n(66,"mat-form-field",17)(67,"mat-label"),o(68),t(),v(69,"input",20),c(70,Bt,2,1,"mat-error"),t(),n(71,"mat-form-field",17)(72,"mat-label"),o(73),t(),v(74,"input",21),c(75,jt,2,1,"mat-error"),t(),c(76,Xt,7,1,"mat-form-field",17),n(77,"mat-form-field",17)(78,"mat-label"),o(79,"Departamento"),t(),n(80,"mat-select",22),E("selectionChange",function(b){return R(p),P(i.onDepartamentoChange(b.value))}),c(81,$t,2,2,"mat-option",23),t(),c(82,Ht,2,1,"mat-error"),t(),n(83,"mat-form-field",17)(84,"mat-label"),o(85,"Municipio"),t(),n(86,"mat-select",24),c(87,Ut,2,2,"mat-option",23),t(),c(88,Zt,2,1,"mat-error"),t(),n(89,"mat-form-field",17)(90,"mat-label"),o(91,"Direcci\xF3n Comercial"),t(),v(92,"input",25),c(93,Yt,2,1,"mat-error"),t(),c(94,Kt,6,2,"mat-form-field",17),t(),n(95,"div",26)(96,"button",27),o(97,"Siguiente"),t()()()(),n(98,"mat-step",13)(99,"form",14),E("ngSubmit",function(){return R(p),P(i.onSubmit())}),c(100,Qt,1,0,"ng-template",15),n(101,"div",16)(102,"mat-form-field",17)(103,"mat-label"),o(104,"Celular"),t(),v(105,"input",28),c(106,ei,2,1,"mat-error"),t(),n(107,"mat-form-field",17)(108,"mat-label"),o(109,"Correo Electr\xF3nico"),t(),v(110,"input",29),c(111,ti,2,1,"mat-error"),t(),n(112,"mat-form-field",17)(113,"mat-label"),o(114,"Confirmar Correo Electr\xF3nico"),t(),v(115,"input",30),c(116,ii,2,1,"mat-error"),t(),c(117,oi,18,5),n(118,"mat-form-field",17)(119,"mat-label"),o(120,"Fecha de Expedici\xF3n documento Identidad"),t(),v(121,"input",31)(122,"mat-datepicker-toggle",32)(123,"mat-datepicker",null,0),c(125,li,2,1,"mat-error"),t(),n(126,"mat-form-field",17)(127,"mat-label"),o(128,"\xBFCuenta con Facturaci\xF3n Electr\xF3nica?"),t(),n(129,"mat-select",33),c(130,mi,2,2,"mat-option",23),t(),c(131,si,2,1,"mat-error"),t(),n(132,"mat-form-field",17)(133,"mat-label"),o(134,"Tipo de Proveedor"),t(),n(135,"mat-select",34),c(136,di,2,2,"mat-option",23),t(),c(137,pi,2,1,"mat-error"),t(),n(138,"mat-form-field",17)(139,"mat-label"),o(140,"\xBFPersona expuesto p\xFAblicamente?"),t(),n(141,"mat-select",35),c(142,ci,2,2,"mat-option",23),t(),c(143,ui,2,1,"mat-error"),t(),n(144,"div",36)(145,"re-captcha",37),E("resolved",function(b){return R(p),P(i.onResolved(b))}),t(),c(146,fi,2,0,"mat-error",38),t()(),n(147,"div",26)(148,"button",39),o(149,"Anterior"),t(),n(150,"button",40),o(151,"Enviar"),t()()()()()()()}if(d&2){let p,C=Q(124);a(),y("imageSrc",i.dataCampaing==null?null:i.dataCampaing.urlBanner),u("height",310)("mobileHeight",150),a(15),h("Convocatoria: ",i.dataCampaing==null||i.dataCampaing.nombre==null?null:i.dataCampaing.nombre.toUpperCase()," "),a(8),x(i.dataCampaing==null?null:i.dataCampaing.fechaInicio),a(4),x(i.dataCampaing==null?null:i.dataCampaing.fechaFin),a(4),x(i.dataCampaing==null?null:i.dataCampaing.descripcion),a(5),u("href",i.dataCampaing==null?null:i.dataCampaing.urlTerminos,k),a(14),u("linear",i.isLinear)("orientation",ue(52,47,i.stepperOrientation)||"horizontal"),a(2),u("stepControl",i.formGroups[0]),a(),u("formGroup",i.formGroups[0]),a(7),K(i.tipoPersonaOptions),a(2),f(i.ifInvalidField(i.formGroups[0],"idTipoPersona")?63:-1),a(),f(i.tipoPersona==="2"?64:-1),a(),f(i.tipoPersona==="1"?65:-1),a(3),h(" ",i.tipoPersona==="2"?"NIT":"C\xE9dula de Ciudadan\xEDa"," "),a(),y("placeholder",i.tipoPersona==="2"?"NIT":"C\xE9dula de Ciudadan\xEDa"),a(),f(i.ifInvalidField(i.formGroups[0],"nit")?70:-1),a(3),h(" ","Confirmar "+i.documentStr,""),a(),y("placeholder","Confirmar "+i.documentStr),a(),f(i.ifInvalidField(i.formGroups[0],"confirmDocument")?75:-1),a(),f(i.tipoPersona==="2"?76:-1),a(5),u("ngForOf",i.departamentos),a(),f(i.ifInvalidField(i.formGroups[0],"idDepartamento")?82:-1),a(5),u("ngForOf",i.municipios),a(),f(i.ifInvalidField(i.formGroups[0],"idMunicipio")?88:-1),a(5),f(i.ifInvalidField(i.formGroups[0],"direccion")?93:-1),a(),f(i.tipoPersona==="2"?94:-1),a(4),u("stepControl",i.formGroups[1]),a(),u("formGroup",i.formGroups[1]),a(7),f(i.ifInvalidField(i.formGroups[1],"celular")?106:-1),a(5),f(i.ifInvalidField(i.formGroups[1],"correoElectronico")?111:-1),a(5),f(i.ifInvalidField(i.formGroups[1],"confirmarCorreoElectronico")?116:-1),a(),f(i.tipoPersona==="2"?117:-1),a(4),u("matDatepicker",C)("max",i.startDate),a(),u("for",C),a(3),f(i.ifInvalidField(i.formGroups[1],"fechaExpedicionDI")?125:-1),a(5),u("ngForOf",i.yesNoOptions),a(),f(i.ifInvalidField(i.formGroups[1],"tieneFacturacionElectronica")?131:-1),a(5),u("ngForOf",i.tipoInsumos),a(),f(i.ifInvalidField(i.formGroups[1],"tiposProveedor")?137:-1),a(5),u("ngForOf",i.yesNoOptions),a(),f(i.ifInvalidField(i.formGroups[1],"expuestoPublicamente")?143:-1),a(2),u("siteKey",i.keyV2),a(),u("ngIf",(p=i.formGroups[1].get("captchaControl"))==null?null:p.hasError("captchaRequired")),a(4),u("disabled",i.spinner.loading)}},dependencies:[we,Fe,ye,Ie,Me,Re,Pe,je,Be,$,X,Le,Ve,H,Je,Ue,He,Ze,Ye,We,w,T,V,L,fe,ge,be,it,Qe,et,tt,Ee,Z,U,j,ke,qe,nt,rt,st],styles:[".banner-container-register[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.text-container[_ngcontent-%COMP%]{width:100%;max-width:1024px;padding:20px;background:#fff}.form-container[_ngcontent-%COMP%]{width:100%;max-width:800px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}.text-center[_ngcontent-%COMP%]{text-align:center}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.form-field[_ngcontent-%COMP%]{margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}.date-field[_ngcontent-%COMP%]{display:flex;align-items:center}.date-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{color:red}.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{border-color:red}.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:red}.mat-mdc-form-field[_ngcontent-%COMP%]{display:flex!important}.margin-top-10[_ngcontent-%COMP%]{margin-bottom:10px!important}.banner-container-register[_ngcontent-%COMP%]{text-align:center}.register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.name-campaign[_ngcontent-%COMP%]{text-decoration:underline;font-weight:700}.half-width[_ngcontent-%COMP%]{width:48%;margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}@media (max-width: 800px){.form-row[_ngcontent-%COMP%]{flex-direction:column}.half-width[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0});let e=l;return e})();function gi(e,l){if(e&1&&(n(0,"mat-option",8),o(1),t()),e&2){let r=l.$implicit;u("value",r.id),a(),h(" ",r.nombre," ")}}var ut=(()=>{let l=class l{constructor(m,d){this.router=m,this.api=d,this.selectedCampaign=null,this.campaigns=[{descripcion:"campaign-1",nombre:"Campa\xF1a 1",status:"Activa",municipiosIds:[1,2,3],fechaInicio:"2022-01-01",fechaFin:"2022-01-01"}],this.loadCampaigns()}loadCampaigns(){this.api.getData(F.convocatorias).subscribe({next:m=>{console.log(m),this.campaigns=m.filter(d=>d.nombre!="Putumayo")},error:m=>{console.log(m)}})}onSubmit(){this.selectedCampaign&&(console.log("Campa\xF1a seleccionada:",this.selectedCampaign),this.router.navigate(["/auth/registrar-proveedor",this.selectedCampaign]))}};l.\u0275fac=function(d){return new(d||l)(_(B),_(Y))},l.\u0275cmp=I({type:l,selectors:[["app-select-campaign"]],standalone:!0,features:[M],decls:20,vars:3,consts:[[1,"container-select-campaign"],[1,"text-center"],[1,"content-container"],["appearance","fill",1,"full-width"],[3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],[1,"button-group"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"value"]],template:function(d,i){d&1&&(n(0,"div",0)(1,"h2",1),o(2,"Estimado proveedor"),t(),n(3,"div",2)(4,"p"),o(5,"\xA1Gracias por tu inter\xE9s! A continuaci\xF3n, selecciona la convocatoria a la cual deseas aplicar Recuerda:"),t(),n(6,"ul")(7,"li"),o(8,"Solo puedes aplicar a una convocatoria."),t(),n(9,"li"),o(10,"Tu empresa debe tener sede local en la zona donde se llevar\xE1 a cabo la convocatoria que elijas."),t()(),n(11,"div",2)(12,"mat-form-field",3)(13,"mat-label"),o(14,"Seleccionar campa\xF1a"),t(),n(15,"mat-select",4),pe("valueChange",function(C){return de(i.selectedCampaign,C)||(i.selectedCampaign=C),C}),c(16,gi,2,2,"mat-option",5),t()(),n(17,"div",6)(18,"button",7),E("click",function(){return i.onSubmit()}),o(19,"Aceptar"),t()()()()()),d&2&&(a(15),se("value",i.selectedCampaign),a(),u("ngForOf",i.campaigns),a(2),u("disabled",!i.selectedCampaign))},dependencies:[V,L,H,$,X,Z,U,j,w,T],styles:[".full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container-select-campaign[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.content-container[_ngcontent-%COMP%]{max-width:650px}@media (max-width: 768px){.container-select-campaign[_ngcontent-%COMP%]{padding:15px}}"]});let e=l;return e})();var Nr=[{path:"",component:$e,pathMatch:"full"},{path:"seleccionar-convocatoria",component:ut},{path:"registrar-beneficiario",component:Ke},{path:"registrar-proveedor/:campaignId",component:ct}];export{Nr as AUHT_ROUTES};
