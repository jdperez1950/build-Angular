import{Aa as L,Ab as Oe,Cb as Ee,Da as k,Db as G,Ea as ye,Fa as _e,Ga as Me,Hb as Pe,Ia as H,Ka as z,Kb as Ie,Ob as je,Pb as Fe,Qb as Ne,Rb as Be,Sb as Re,Tb as Te,Ub as Ae,Vb as De,ea as N,fa as be,ka as B,l as he,m as ve,na as R,p as xe,pa as Y,ra as T,sa as A,ta as Ce,tb as Se,xa as D,zb as we}from"./chunk-PISADYQZ.js";import{$ as O,Ba as P,C as Q,Eb as s,Fb as a,Ga as I,Gb as h,Hb as ae,Ib as se,Kb as ce,Nb as y,Pb as x,Ua as ie,Uc as pe,Va as ne,Vc as me,Wc as de,Xa as oe,Xc as fe,Yc as ue,Za as p,Zb as m,Zc as ge,_ as $,_a as f,_b as j,a as K,ba as C,cd as F,da as u,ed as M,gb as W,gc as b,ia as g,ic as le,j as w,ja as E,k as Z,o as J,ra as X,sa as ee,sb as _,tb as re,ub as c,za as te}from"./chunk-WLESGUDR.js";var ze=n=>({"height.px":n}),U=(()=>{let e=class e{constructor(i){this.platformId=i,this.imageSrc="",this.height=300,this.mobileHeight=200,this.textPosition="center",this.coverTextHtml="",this.isMobile=!1,M(this.platformId)&&(this.isMobile=window.innerWidth<=768)}onResize(i){M(this.platformId)&&(this.isMobile=window.innerWidth<=768)}ngOnInit(){M(this.platformId)&&(this.isMobile=window.innerWidth<=768)}};e.\u0275fac=function(t){return new(t||e)(f(I))},e.\u0275cmp=g({type:e,selectors:[["app-cover-img"]],hostBindings:function(t,o){t&1&&y("resize",function(d){return o.onResize(d)},!1,oe)},inputs:{imageSrc:"imageSrc",height:"height",mobileHeight:"mobileHeight",textPosition:"textPosition",coverTextHtml:"coverTextHtml"},standalone:!0,features:[b],decls:3,vars:6,consts:[[1,"cover-container",3,"ngStyle"],["alt","Cover Image",1,"cover-image",3,"src"],[1,"cover-text",3,"ngClass","innerHTML"]],template:function(t,o){t&1&&(s(0,"div",0),h(1,"img",1)(2,"div",2),a()),t&2&&(c("ngStyle",le(4,ze,o.isMobile?o.mobileHeight:o.height)),p(),c("src",o.imageSrc,ne),p(),c("ngClass",o.textPosition)("innerHTML",o.coverTextHtml,ie))},dependencies:[F,pe,ge],styles:[".cover-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;overflow:hidden}.cover-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill;object-position:center}.cover-text[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:1.5em;font-weight:700;padding:10px}.cover-text.top-left[_ngcontent-%COMP%]{top:10px;left:10px}.cover-text.top-right[_ngcontent-%COMP%]{top:10px;right:10px}.cover-text.bottom-left[_ngcontent-%COMP%]{bottom:10px;left:10px}.cover-text.bottom-right[_ngcontent-%COMP%]{bottom:10px;right:10px}.cover-text.center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.cover-text.left-center[_ngcontent-%COMP%]{top:50%;left:50px;transform:translateY(-50%)}.cover-text.right-center[_ngcontent-%COMP%]{top:50%;right:15%;transform:translateY(-50%)}@media (max-width: 768px){.cover-container[_ngcontent-%COMP%]{height:auto}.cover-text[_ngcontent-%COMP%]{color:#fff;font-size:1em;font-weight:700}.cover-image[_ngcontent-%COMP%]{height:auto;width:100%;object-fit:contain}.cover-text[_ngcontent-%COMP%]{font-size:1em}}"]});let n=e;return n})();var jt=(()=>{let e=class e{setBeneficiary(i){this.isBeneficiary=i}constructor(i,t,o,r,d){this.fb=i,this.authService=t,this.router=o,this.parametricas=r,this.messagesService=d,this.isBeneficiary=!0,this.loginForm=Ce,this.loginForm=this.fb.group({username:[""],password:[""],rememberMe:[!1]}),console.log("Auth component"),r.getTipoInsumo().subscribe(v=>console.log(v))}onSubmit(){if(this.loginForm.valid){let i=this.loginForm.value;this.authService.login(i.username,i.password).subscribe({next:t=>{this.authService.isAllowed("")?(this.messagesService.showInfoMessage("Convocatoria Cerrada, Pr\xF3ximanente se abrir\xE1 nuevamente"),this.authService.logout(),this.router.navigateByUrl("/auth")):this.router.navigateByUrl("/admin")},error:t=>this.messagesService.showErrorMessage("Credenciales no v\xE1lidas")}),this.loginForm.reset()}}};e.\u0275fac=function(t){return new(t||e)(f(H),f(Ie),f(he),f(je),f(Fe))},e.\u0275cmp=g({type:e,selectors:[["app-auth"]],standalone:!0,features:[b],decls:23,vars:3,consts:[[1,"banner-container-login"],["imageSrc","./Banner_momento_1.png","textPosition","left-center",3,"height","mobileHeight"],[1,"login-container"],[1,"login-image"],["src","./form-login.jpg","alt","Login Image"],[1,"login-form"],[1,"container-login-form"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","type","text","formControlName","username"],["matInput","","type","password","formControlName","password"],[1,"container-btn-login"],["mat-button","","type","submit",1,"button-login"],["mat-raised-button","","routerLink","/",1,"centered-button"]],template:function(t,o){t&1&&(s(0,"div",0),h(1,"app-cover-img",1),a(),s(2,"div",2)(3,"div",3),h(4,"img",4),a(),s(5,"div",5)(6,"h2"),m(7,"Inicio Sesi\xF3n"),a(),s(8,"div",6)(9,"form",7),y("ngSubmit",function(){return o.onSubmit()}),s(10,"mat-form-field",8)(11,"mat-label"),m(12,"Usuario"),a(),h(13,"input",9),a(),s(14,"mat-form-field",8)(15,"mat-label"),m(16,"Contrase\xF1a"),a(),h(17,"input",10),a(),s(18,"div",11)(19,"button",12),m(20,"Ingresar"),a(),s(21,"a",13),m(22,"Regresar al Inicio"),a()()()()()()),t&2&&(p(),c("height",350)("mobileHeight",150),p(8),c("formGroup",o.loginForm))},dependencies:[G,Ee,we,Se,Pe,U,B,be,N,z,D,R,T,A,L,k,xe,ve],styles:[".login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;padding:20px 100px}.login-image[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.login-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:10px}.login-form[_ngcontent-%COMP%]{flex:1;background-color:#fff;padding:80px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#4caf50}.toggle-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:20px}.toggle-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.toggle-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.forgot-password[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;align-self:flex-start}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.container-login-form[_ngcontent-%COMP%]{padding:40px}.banner-container-login[_ngcontent-%COMP%]{margin-top:20px}.button-login[_ngcontent-%COMP%]{display:flexs;background-color:#4caf50;color:#fff!important;padding:20px 60px}.container-btn-login[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 768px){.login-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.login-form[_ngcontent-%COMP%]{padding:15px}}"]});let n=e;return n})();function Ue(n,e){if(n&1&&m(0),n&2){let l=x().$implicit;j(l.label)}}function qe(n,e){if(n&1&&h(0,"input",21),n&2){let l=x().$implicit;c("formControlName",l.name)("placeholder",l.placeholder)}}function Ke(n,e){if(n&1){let l=ce();s(0,"input",22),y("change",function(t){X(l);let o=x().$implicit,r=x(2);return ee(r.onFileChange(t,o.name))}),a()}if(n&2){let l=x().$implicit;c("formControlName",l.name)}}function $e(n,e){if(n&1&&(s(0,"option",25),m(1),a()),n&2){let l=e.$implicit;c("value",l),p(),j(l)}}function We(n,e){if(n&1&&(s(0,"select",23),_(1,$e,2,2,"option",24),a()),n&2){let l=x().$implicit;c("formControlName",l.name),p(),c("ngForOf",l.options)}}function Ye(n,e){if(n&1&&(s(0,"div",16)(1,"label"),m(2),a(),ae(3,17),_(4,qe,1,2,"input",18)(5,Ke,1,1,"input",19)(6,We,2,2,"select",20),se(),a()),n&2){let l=e.$implicit;p(2),j(l.label),p(),c("ngSwitch",l.type),p(),c("ngSwitchCase","text"),p(),c("ngSwitchCase","file"),p(),c("ngSwitchCase","select")}}function Ze(n,e){n&1&&(s(0,"button",26),m(1,"Anterior"),a())}function Je(n,e){n&1&&(s(0,"button",27),m(1,"Siguiente"),a())}function Qe(n,e){n&1&&(s(0,"button",28),m(1,"Enviar"),a())}function Xe(n,e){if(n&1&&(s(0,"mat-step",9)(1,"form",10),_(2,Ue,1,1,"ng-template",11)(3,Ye,7,5,"div",12),s(4,"div"),_(5,Ze,2,0,"button",13)(6,Je,2,0,"button",14)(7,Qe,2,0,"button",15),a()()()),n&2){let l=e.$implicit,i=e.index,t=x();c("stepControl",t.formGroups[i]),p(),c("formGroup",t.formGroups[i]),p(2),c("ngForOf",l.fields),p(2),c("ngIf",i>0),p(),c("ngIf",i<t.formSteps.length-1),p(),c("ngIf",i===t.formSteps.length-1)}}var Ht=(()=>{let e=class e{constructor(i){this.fb=i,this.isLinear=!0,this.formGroups=[],this.formSteps=[{label:"Informaci\xF3n General",fields:[{label:"Nombre",type:"text",name:"nombre",placeholder:"Nombre"},{label:"Apellido",type:"text",name:"apellido",placeholder:"Apellido"}]},{label:"Sector",fields:[{label:"Nombre del predio",type:"text",name:"predio",placeholder:"Nombre del predio"},{label:"NIT o CC",type:"text",name:"nit",placeholder:"NIT o CC"}]},{label:"Documentaci\xF3n",fields:[{label:"Foto",type:"file",name:"foto",placeholder:"Foto"},{label:"Sector al que pertenece",type:"select",name:"sector",placeholder:"Sector al que pertenece",options:["Sector 1","Sector 2"]}]}]}ngOnInit(){this.formSteps.forEach(i=>{let t=this.fb.group({});i.fields.forEach(o=>{o.type==="select"?t.addControl(o.name,this.fb.control("")):o.type==="file"?t.addControl(o.name,this.fb.control("",Y.required)):t.addControl(o.name,this.fb.control("",Y.required))}),this.formGroups.push(t)})}onFileChange(i,t){let o=i.target;if(o.files&&o.files.length){let r=o.files[0],d=new FileReader;d.onload=()=>{this.formGroups.forEach(v=>{v.contains(t)&&v.get(t)?.setValue(d.result)})},d.readAsDataURL(r)}}onSubmit(){if(this.formGroups.every(i=>i.valid)){let i=this.formGroups.reduce((t,o)=>K(K({},t),o.value),{});console.log(i)}}};e.\u0275fac=function(t){return new(t||e)(f(H))},e.\u0275cmp=g({type:e,selectors:[["app-register-beneficiary"]],standalone:!0,features:[b],decls:13,vars:2,consts:[["stepper",""],[1,"banner-container-register"],["imageSrc","./banner-login.jpg","textPosition","right-center"],[1,"register-container"],[1,"register-image"],["src","./form-login.jpg","alt","Login Image"],[1,"form-container"],[3,"linear"],[3,"stepControl",4,"ngFor","ngForOf"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["class","form-field",4,"ngFor","ngForOf"],["mat-button","","matStepperPrevious","",4,"ngIf"],["mat-button","","matStepperNext","",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",4,"ngIf"],[1,"form-field"],[3,"ngSwitch"],[3,"formControlName","placeholder",4,"ngSwitchCase"],["type","file",3,"formControlName","change",4,"ngSwitchCase"],[3,"formControlName",4,"ngSwitchCase"],[3,"formControlName","placeholder"],["type","file",3,"change","formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-button","","matStepperPrevious",""],["mat-button","","matStepperNext",""],["mat-raised-button","","color","primary","type","submit"]],template:function(t,o){t&1&&(s(0,"div",1)(1,"app-cover-img",2),m(2," Registro de Beneficiarios "),a()(),s(3,"div",3)(4,"div",4),h(5,"img",5),a(),s(6,"div",6)(7,"div",6)(8,"h2"),m(9,"Formulario Registro Beneficiario"),a(),s(10,"mat-horizontal-stepper",7,0),_(12,Xe,8,6,"mat-step",8),a()()()()),t&2&&(p(10),c("linear",o.isLinear),p(2),c("ngForOf",o.formSteps))},dependencies:[z,D,_e,Me,R,ye,T,A,L,k,G,Oe,De,Be,Ne,Re,Te,Ae,B,N,F,me,de,fe,ue,U],styles:[".form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}.register-image[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.register-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:10px}.register-form[_ngcontent-%COMP%]{flex:1;background-color:#fff;padding:80px}.form-field[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:16px}button[_ngcontent-%COMP%]{margin-top:10px}.register-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;padding:20px 100px}"]});let n=e;return n})();var Vt=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g({type:e,selectors:[["app-close-register"]],standalone:!0,features:[b],decls:5,vars:0,consts:[[1,"finish-container"]],template:function(t,o){t&1&&(s(0,"div",0)(1,"h2"),m(2,"Convocatoria Cerrada"),a(),s(3,"p"),m(4,"Pr\xF3ximamente abriremos una nueva convocatoria."),a()())},styles:[".finish-container[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#f8f9fa;border:1px solid #ccc;border-radius:8px;margin:20px;box-shadow:0 2px 4px #0000001a}h2[_ngcontent-%COMP%]{color:#d9534f}p[_ngcontent-%COMP%]{color:#666;font-size:16px}"]});let n=e;return n})();var et=new C("recaptcha-language"),tt=new C("recaptcha-base-url"),it=new C("recaptcha-nonce-tag"),nt=new C("recaptcha-settings"),Le=new C("recaptcha-v3-site-key"),ot=new C("recaptcha-loader-options");function rt(n,e,l,{url:i,lang:t,nonce:o}={}){window.ng2recaptchaloaded=()=>{l(grecaptcha)};let r=document.createElement("script");r.innerHTML="";let{url:d,nonce:v}=e(new URL(i||"https://www.google.com/recaptcha/api.js"));d.searchParams.set("render",n==="explicit"?n:n.key),d.searchParams.set("onload","ng2recaptchaloaded"),d.searchParams.set("trustedtypes","true"),t&&d.searchParams.set("hl",t),r.src=d.href;let S=v||o;S&&r.setAttribute("nonce",S),r.async=!0,r.defer=!0,document.head.appendChild(r)}function at({v3SiteKey:n,onBeforeLoad:e,onLoaded:l}){let i=n?{key:n}:"explicit";ke.loadScript(i,e,l)}var ke={loadScript:rt,newLoadScript:at};function st(n){return n.asObservable().pipe(Q(e=>e!==null))}var q=(()=>{let e=class e{constructor(i,t,o,r,d,v){this.platformId=i,this.language=t,this.baseUrl=o,this.nonce=r,this.v3SiteKey=d,this.options=v;let S=this.init();this.ready=S?st(S):J()}init(){if(e.ready)return e.ready;if(!M(this.platformId))return;let i=new Z(null);return e.ready=i,ke.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:t=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(t);let o=new URL(this.baseUrl??t);return this.language&&o.searchParams.set("hl",this.language),{url:o,nonce:this.nonce}},onLoaded:t=>{let o=t;this.options?.onLoaded&&(o=this.options.onLoaded(t)),i.next(o)}}),i}};e.ready=null,e.\u0275fac=function(t){return new(t||e)(u(I),u(et,8),u(tt,8),u(it,8),u(Le,8),u(ot,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let n=e;return n})(),ct=0,ci=(()=>{let e=class e{constructor(i,t,o,r){this.elementRef=i,this.loader=t,this.zone=o,this.id=`ngrecaptcha-${ct++}`,this.errorMode="default",this.resolved=new P,this.error=new P,this.errored=new P,r&&(this.siteKey=r.siteKey,this.theme=r.theme,this.type=r.type,this.size=r.size,this.badge=r.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(i=>{i!=null&&i.render instanceof Function&&(this.grecaptcha=i,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(i){this.error.emit(i),this.errored.emit(i)}captchaResponseCallback(i){this.resolved.emit(i)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let i={badge:this.badge,callback:t=>{this.zone.run(()=>this.captchaResponseCallback(t))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(i["error-callback"]=(...t)=>{this.zone.run(()=>this.onError(t))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,i),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}};e.\u0275fac=function(t){return new(t||e)(f(te),f(q),f(W),f(nt,8))},e.\u0275cmp=g({type:e,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,o){t&2&&re("id",o.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,o){},encapsulation:2});let n=e;return n})(),lt=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E({type:e}),e.\u0275inj=O({});let n=e;return n})(),li=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E({type:e}),e.\u0275inj=O({providers:[q],imports:[lt]});let n=e;return n})(),pt=(()=>{let e=class e{constructor(i,t,o){this.recaptchaLoader=t,this.zone=i,this.siteKey=o,this.init()}get onExecute(){return this.onExecuteSubject||(this.onExecuteSubject=new w,this.onExecuteObservable=this.onExecuteSubject.asObservable()),this.onExecuteObservable}get onExecuteError(){return this.onExecuteErrorSubject||(this.onExecuteErrorSubject=new w,this.onExecuteErrorObservable=this.onExecuteErrorSubject.asObservable()),this.onExecuteErrorObservable}execute(i){let t=new w;return this.grecaptcha?this.executeActionWithSubject(i,t):(this.actionBacklog||(this.actionBacklog=[]),this.actionBacklog.push([i,t])),t.asObservable()}executeActionWithSubject(i,t){let o=r=>{this.zone.run(()=>{t.error(r),this.onExecuteErrorSubject&&this.onExecuteErrorSubject.next({action:i,error:r})})};this.zone.runOutsideAngular(()=>{try{this.grecaptcha.execute(this.siteKey,{action:i}).then(r=>{this.zone.run(()=>{t.next(r),t.complete(),this.onExecuteSubject&&this.onExecuteSubject.next({action:i,token:r})})},o)}catch(r){o(r)}})}init(){this.recaptchaLoader.ready.subscribe(i=>{this.grecaptcha=i,this.actionBacklog&&this.actionBacklog.length>0&&(this.actionBacklog.forEach(([t,o])=>this.executeActionWithSubject(t,o)),this.actionBacklog=void 0)})}};e.\u0275fac=function(t){return new(t||e)(u(W),u(q),u(Le))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let n=e;return n})(),pi=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=E({type:e}),e.\u0275inj=O({providers:[pt,q]});let n=e;return n})();export{U as a,Vt as b,jt as c,Ht as d,Le as e,ci as f,li as g,pi as h};
